# 📋 現在の状態確認チェックリスト

このチェックリストを使って、どこまでできているか確認してください。

## ✅ ステップ1: ファイルの確認

### 1-1. 必要なファイルがあるか確認

`slack` フォルダの中に以下のファイルがあるか確認してください：

- [ ] `slack_send_message.py` - メインのプログラム
- [ ] `config.py` - 設定ファイル
- [ ] `requirements.txt` - 必要なパッケージのリスト
- [ ] `完全ガイド_初心者向け.md` - このガイド

**確認方法**：
- エクスプローラーで `slack` フォルダを開いて確認

---

## ✅ ステップ2: Python とパッケージの確認

### 2-1. Python がインストールされているか

1. コマンドプロンプト（cmd）を開く
2. 以下のコマンドを入力：
   ```
   python --version
   ```
3. バージョンが表示されれば OK（例：`Python 3.11.0`）

- [ ] Python がインストールされている

### 2-2. 必要なパッケージがインストールされているか

1. コマンドプロンプトで、`slack` フォルダに移動：
   ```
   cd "C:\Users\hanhj\OneDrive\デスクトップ\前田のSAMURAI\AI\テスト\slack"
   ```
2. 以下のコマンドを実行：
   ```
   pip list | findstr slack
   ```
3. `slack-sdk` が表示されれば OK

- [ ] `slack-sdk` がインストールされている

**もし表示されない場合**：
```
pip install -r requirements.txt
```
を実行してください。

---

## ✅ ステップ3: Slack ボットの設定確認

### 3-1. Bot Token が config.py に設定されているか

1. `config.py` ファイルを開く
2. 以下の行を確認：
   ```python
   SLACK_BOT_TOKEN = "xoxb-..."
   ```
3. `""` の中に `xoxb-` で始まる長い文字列が入っているか確認

- [ ] Bot Token が設定されている
- [ ] Token は `xoxb-` で始まっている

**もし空の場合**：
- `完全ガイド_初心者向け.md` の「ステップ2: Slack ボットを作成する」を参照

### 3-2. Slack でボットが作成されているか

1. ブラウザで https://api.slack.com/apps を開く
2. 自分のアプリが表示されているか確認

- [ ] Slack アプリが作成されている

### 3-3. ボットに権限が付与されているか

1. https://api.slack.com/apps で自分のアプリをクリック
2. 左側のメニューから「OAuth & Permissions」をクリック
3. 「Bot Token Scopes」セクションを確認
4. `chat:write` が追加されているか確認

- [ ] `chat:write` の権限が追加されている

### 3-4. ボットがワークスペースにインストールされているか

1. 同じページ（OAuth & Permissions）の「OAuth Tokens」セクションを確認
2. 「Bot User OAuth Token」が表示されているか確認

- [ ] Bot Token が表示されている（インストール済み）

---

## ✅ ステップ4: チャンネルの設定確認

### 4-1. ボットをチャンネルに追加したか

1. Slack アプリを開く
2. メッセージを送りたいチャンネルを開く
3. チャンネル名をクリック → 詳細を開く
4. 「統合」または「Integrations」タブを開く
5. 作成したボットが追加されているか確認

- [ ] ボットがチャンネルに追加されている

**もし追加されていない場合**：
- チャンネルで `/invite @ボット名` と入力して Enter

---

## ✅ ステップ5: 動作確認

### 5-0. 接続テストを実行（推奨）

まず、簡単なテストスクリプトで設定を確認しましょう：

1. コマンドプロンプトで、`slack` フォルダに移動
2. 以下のコマンドを実行：
   ```
   python test_connection.py
   ```
3. 結果を確認：
   - ✅ すべて OK なら、次のステップに進めます
   - ❌ エラーが出た場合は、エラーメッセージを確認して修正してください

- [ ] 接続テストを実行した
- [ ] すべてのテストに合格した

### 5-1. プログラムが実行できるか

1. コマンドプロンプトで、`slack` フォルダに移動：
   ```
   cd "C:\Users\hanhj\OneDrive\デスクトップ\前田のSAMURAI\AI\テスト\slack"
   ```
2. 以下のコマンドを実行（テスト用）：
   ```
   python slack_send_message.py --channel "#general" --message "テスト"
   ```
   ※ `#general` は実際のチャンネル名に変更してください

**結果**：

- [ ] ✅ 成功：メッセージが Slack に投稿された
- [ ] ❌ エラー：エラーメッセージが表示された

### 5-2. エラーが出た場合

エラーメッセージを確認して、以下と照らし合わせてください：

#### エラー: `SLACK_BOT_TOKEN が設定されていません`
- **原因**：`config.py` にトークンが設定されていない
- **解決**：ステップ3-1を確認

#### エラー: `channel_not_found`
- **原因**：チャンネル名が間違っている、またはボットがチャンネルに追加されていない
- **解決**：ステップ4-1を確認

#### エラー: `not_in_channel`
- **原因**：ボットがチャンネルに参加していない
- **解決**：ステップ4-1を実行

#### エラー: `invalid_auth`
- **原因**：Bot Token が間違っている
- **解決**：ステップ3-1と3-4を確認

---

## 📊 現在の状態を記録

以下の情報を記録しておくと、問題解決に役立ちます：

### 完了しているステップ
- [ ] ステップ1: ファイルの確認
- [ ] ステップ2: Python とパッケージの確認
- [ ] ステップ3: Slack ボットの設定
- [ ] ステップ4: チャンネルの設定
- [ ] ステップ5: 動作確認

### 現在のエラー（もしあれば）
```
ここにエラーメッセージを貼り付けてください
```

### 確認したこと
- [ ] `config.py` にトークンが設定されている
- [ ] ボットがチャンネルに追加されている
- [ ] `slack-sdk` がインストールされている

---

## 🆘 次のステップ

### すべてチェックが付いている場合
→ ステップ5で実際にメッセージを送信してみてください

### チェックが付いていない項目がある場合
→ `完全ガイド_初心者向け.md` の該当するステップを参照してください

### まだわからない場合
→ どのステップで止まっているか、エラーメッセージを確認して、`完全ガイド_初心者向け.md` の「よくあるエラー」セクションを参照してください

